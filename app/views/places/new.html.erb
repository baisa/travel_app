<div class="col-md-6">
  <div id="map" style="height: 500px; width: 450px"></div>
    <script> 
      $(document).ready(function(){
        initMap();
        map.addListener('click', function(e) {
          placeMarkerAndPanTo(e.latLng, map);
          $("#place_latitude").val(e.latLng.lat);
          $("#place_longitude").val(e.latLng.lng);
        });
      });
      var marker
      function placeMarkerAndPanTo(latLng, map) {
        if (marker) {
          marker.setPosition(latLng, map);
        } else {
          marker = new google.maps.Marker({
            position: latLng,
            map: map
          });
          map.panTo(latLng);
        };
      };
    </script>
</div>
<div class="col-md-6">
  <h3>Add a new place</h3>
  <%= render 'form' %>
  <%= link_to 'Back', trip_places_path %>
</div>